\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[a4paper, margin=1in]{geometry}
\usepackage{enumitem}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{tabularx}
\usepackage{xcolor}
\usepackage{amsmath}
\usepackage{mathtools}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

\renewcommand{\arraystretch}{1.5}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
\lstset{style=mystyle}

\title{Computer Architecture HW3}
\author{Fabian WÃ¼thrich}

\begin{document}

\maketitle

\section{Critical Paper Reviews [500 points]}

see \href{https://safari.ethz.ch/review/architecture20/}{here}

\section{Genome Analysis I [150 points]}

\subsection{Edit Distance}

\begin{enumerate}[label=\alph*)]
    \item \texttt{M O N - - - - T A G} 

          \texttt{s - - i i i i - - -} 
        
          \texttt{D O N N E R S T A G} 

          Edit Distance: 5
    \item \texttt{F R E I T A G}

          \texttt{s s s s - - -}
          
          \texttt{S A M S T A G}

          Edit Distance: 4
    \item \texttt{D O N N E R S T A G}
              
          \texttt{d d d d d d d d d d}

          \texttt{- - - - - - - - - -}

          Edit Distance: 10
\end{enumerate}

\subsection{Read Mapping}

\begin{enumerate}[label=\alph*)]
    \item read1: 6 + 3 + 3 = 12
          
          read2: 2 + 5 + 6 = 13

          read3: 2 + 0 + 0 = 2

          read4: 3 + 2 + 5 = 10

          read5: 6 + 5 + 3 = 14

          \textbf{51 invocations}
    
      \item read1: 10, 15, 20 $\rightarrow$ 1
           
            read2: 50, 55, 60 \& 615, 620, 625 $\rightarrow$ 2

            read3: - $\rightarrow$ 0

            read4: 610, 615, 620 $\rightarrow$ 1

            read5: 710, 715, 720 $\rightarrow$ 1

            \textbf{5 invocations}

    \item AAAAA and GGCCT are above threshold.

          read1: 0 + 3 + 3 = 6
          
          read2: 2 + 0 + 0 = 2

          read3: 2 + 0 + 0 = 2

          read4: 0 + 3 + 2 = 5
          
          read5: 0 + 0 + 3 = 3

          \textbf{18 invocations}
\end{enumerate}

\section{Genome Analysis II [150 points]}

\begin{enumerate}[label=\alph*)]
    \item \{AAAA\} $\rightarrow$ \{1\} 

          \{ATAC\} $\rightarrow$ \{5, 17, 41\}

          \{TGAT\} $\rightarrow$ \{9, 43\}

          \{CCTT\} $\rightarrow$ \{13\}

          \{GTTG\} $\rightarrow$ \{21, 37\}

          \{TAAG\} $\rightarrow$ \{25, 45\}

          \{GTTT\} $\rightarrow$ \{29\}
          
          \{CAAA\} $\rightarrow$ \{33\}

    \item \{AAAA\} $\rightarrow$ \{1\}

          \{ATAC\} $\rightarrow$ \{5, 17, 41\}

          \{GTTG\} $\rightarrow$ \{21\}

          \{CAAA\} $\rightarrow$ \{33\}

      \item non-overlapping 4-mers: $2^{log_2(8)} + 13 = 21$ bytes

            non-overlapping 4-mers minimizers: $2^{log_2(2)} + 6 = 10$ bytes

      \item \textbf{non-overlapping 4-mers}

            3 cycles for hash table query

            144 cycles for edit distance calculation

            total cycles: $3 + 2 \times 144 = 291$ cycles

            wasted cycles: $0.9 \times 291 = 262$ cycles

            \textbf{non-overlapping 4-mers minimizers}

            2 cycles for hash table query

            144 cycles for edit distance calculation

            total cycles: $2 + 144 = 146$ cycles

            wasted cycles: $0.8 \times 146 = 117$ cycles
\end{enumerate}

\section{RowClone [150 points]}

\begin{enumerate}[label=\alph*)]
    \item 
        Step 1: 

        The memory controller writes back any dirty cache line from
        the source region.

        Step 2: 

        The memory controller invalidates any cache line (clean or
        dirty) from the destination region that is cached in the on-chip caches.

    \item To perform the copy operation without RowClone, the memory controller
        transfers the source page (physical page 10) over the data bus to the
        caches. Then, the destination page (physical page 12) is written back
        to main memory. A page has 8KB and the memory controller moves two 
        pages i.e. 16KB over the memory bus.

        With RowClone the copy is performed inside the DRAM, so now data is
        transferred over the memory bus.

        Amount of data eliminated: 16KB
\end{enumerate}

\section{Tiered-difficulty [150 points]}

\begin{enumerate}[label=\alph*)]
    \item a
    \item b
    \item c
    \item d
    \item e
\end{enumerate}

\section{Low-Latency DRAM [150 points]}

\begin{enumerate}[label=\alph*)]
    \item a
    \item b
    \item c
    \item d
    \item e
    \item f
    \item g
\end{enumerate}

\end{document}

